# ë¸ë¦¬ê²Œì´íŠ¸ íŒ¨í„´

## ğŸ“ê°œë…
ë‚˜ì˜ ì¼ì„ `ë§¡ê¸°ëŠ”` í–‰ìœ„

í•˜ë‚˜ì˜ ê°ì²´ê°€ í•˜ëŠ” ì¼ì´ ë§ì•„ì§ˆ ë•Œ,  íŠ¹ì • ì—…ë¬´ë¥¼ ë‹´ë‹¹í•˜ëŠ” ê°ì²´ë¥¼ ë§Œë“¤ê³ 
ê·¸ ì¼ì„ ìœ„ì„í•œë‹¤.

---
## ì˜ˆì‹œ

### ì¹´í˜ ìš´ì˜
- ì¬ê³  ê´€ë¦¬
- ìŒë£Œ ì¤€ë¹„
- ë§ˆì¼€íŒ…
- ...
---

## ğŸš€ ìœ„ì„ì˜ ì¥ì 

### â™»ï¸ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±
ë‚˜ëŠ” ì¹´í˜ ì‚¬ì¥ì´ë‹¤.

ìƒˆë¡œìš´ ì²´ì¸ì ì„ ì˜¤í”ˆ í–ˆëŠ”ë‹¤. ê°€ê²Œê°€ ë„ˆë¬´ ì˜ëœë‹¤.

ì´ ë•Œ, ë‹¤ë¥¸ ì§€ì ì˜ ë°”ë¦¬ìŠ¤íƒ€ íŒŒê²¬ì´ í•„ìš”í•˜ë‹¤.

ìœ„ìŒì„ ì´ìš©í•˜ë©´, ë‹¤ë¥¸ ì²´ì¸ì ìœ¼ë¡œì˜ íŒŒê²¬ì´ ë§¤ìš° í¸í•˜ë‹¤.


### ğŸ¯ ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬

ë‚˜ëŠ” ì¹´í˜ ì‚¬ì¥ìœ¼ë¡œì„œ, ì¬ê³ ê´€ë¦¬, ë§ˆì¼€íŒ…ì´ ì§‘ì¤‘í•´ì•¼ë˜ëŠ”ë°,

ìŒë£Œì¤€ë¹„ê¹Œì§€ í•œë‹¤ë©´, ëª¸ì´ 2ê°œì—¬ë„ ë¶€ì¡±í•˜ë‹¤.

ì´ ë•Œ, ë°”ë¦¬ìŠ¤íŠ¸ì—ê²Œ `ìŒë£Œì¤€ë¹„`ë¼ëŠ” ì¼ì„ ìœ„ì„í•˜ë©´, ë‚˜ëŠ” ë‚´ ì¼ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.

### ğŸ¥¹ í™•ì¥ì„±ê³¼ ë™ì  í• ë‹¹

ìƒí™©ì— ë”°ë¼, ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ì˜ ë°”ë¦¬ìŠ¤íƒ€ë¡œ ë°”ê¿”ì—¬í•  ë•Œê°€ ìˆë‹¤.

ì´ë•Œ, ë¸ë¦¬ê²Œì´íŠ¸ íŒ¨í„´ì„ ì´ìš©í•˜ë©´, í•„ìš”í•  ë•Œ, ë™ì ìœ¼ë¡œ ë°”ë¦¬ìŠ¤íƒ€ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤.

---


## ğŸ—’ï¸ ë¬¸ë²• 

> `ìœ„ì„ë°›ëŠ” ì—­í• ` by `ìœ„ì„ì`

- `by` í‚¤ì›Œë“œë¥¼ ì´ìš©í•¨

### Kotlin `by` í‚¤ì›Œë“œ ë¹„êµ

| êµ¬ë¬¸ í˜•íƒœ                              | ì¢…ë¥˜ | ì˜ë¯¸ | í˜¸ì¶œ ì‹œì  | ì˜ˆì‹œ |
|------------------------------------|------|------|---------|------|
| `: Interface by obj`               | ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ìœ„ì„ | ë©”ì„œë“œ ì‹¤í–‰ì„ ë‹¤ë¥¸ ê°ì²´ì— ëª¨ë‘ ìœ„ì„ | **ì»´íŒŒì¼ ì‹œ** ë©”ì„œë“œ ì—°ê²° ì½”ë“œ ìƒì„± | `class Mart : Payment by payment` |
| `val x: Type by delegate`          | í”„ë¡œí¼í‹° ìœ„ì„ |  ì†ì„±ì˜ ê°’ì„ ì½ê±°ë‚˜ ì“°ëŠ” ë‘ ê°€ì§€ ë™ì‘ì„ ë‹¤ë¥¸ ê°ì²´ì— ìœ„ì„ | **ëŸ°íƒ€ì„**ì— `getValue` / `setValue` í˜¸ì¶œ | `val mart: Mart by MartDelegate()` |

### ğŸ’¡ ë¹„ìœ 

- ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ìœ„ì„:
  -   â€œë‚˜ëŠ” ë§ˆíŠ¸ ì‚¬ì¥ì´ì§€ë§Œ, ê²°ì œ ì—…ë¬´ëŠ” ê²°ì œíŒ€ì¥ì—ê²Œ ë§¡ê¸¸ê²Œ.â€

  
- í”„ë¡œí¼í‹° ìœ„ì„:
  - â€œë§ˆíŠ¸ê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ ë‚´ê°€ ì „í™”í•´ì„œ ë¶ˆëŸ¬ì¤„ê²Œ. (í•„ìš”í•  ë•Œë§Œ ê°€ì ¸ì˜´)â€



## ì˜ˆì œ

### ì˜ˆì œ1 
- ë°”ë¦¬ìŠ¤íƒ€ interface ì •ì˜
- ê° ì¹´í˜ ë°”ë¦¬ìŠ¤íŠ¸ ì •ì˜
- ê° ì¹´í˜ ê°ì²´ëŠ” ë°”ë¦¬ìŠ¤íƒ€ì—ê²Œ, ìŒë£Œ ì œì¡° ì„ë¬´ë¥¼ ìœ„ì„

```kotlin
// Interface
interface Barista {
    fun makeCoffee()
}

// Delegate
class StarbucksBarista : Barista {
    override fun makeCoffee() {
        println("Make Starbucks-style coffee")
    }
}
// Delegate
class EdiyaBarista : Barista {
    override fun makeCoffee() {
        println("Make Ediya-style coffee")
    }
}

// Delegator: Cafe, Delegate: StarbucksBarista
class StarbucksCafe(): Barista by StarbucksBarista() {}
// Delegator: Cafe, Delegate: EdiyaBarista
class EdiyaCafe(): Barista by EdiyaBarista()

// Usage
fun main() {
    val starbucks = StarbucksCafe()
    starbucks.makeCoffee()

    val ediya = EdiyaCafe()
    ediya.makeCoffee()
}
```

### ì˜ˆì œ2
- ë°”ë¦¬ìŠ¤íƒ€ interface ì •ì˜
- ê° ì¹´í˜ ë°”ë¦¬ìŠ¤íŠ¸ ì •ì˜
- í•˜ë‚˜ì˜ ì¹´í˜ì—ì„¸ , ë°”ë¦¬ìŠ¤íŠ¸ì˜ ì—­í• ì„ ìœ„ì„

```kotlin
// Interface
interface Barista {
    fun makeCoffee()
}

// Delegate
class StarbucksBarista : Barista {
    override fun makeCoffee() {
        println("Make Starbucks-style coffee")
    }
}
// Delegate
class EdiyaBarista : Barista {
    override fun makeCoffee() {
        println("Make Ediya-style coffee")
    }
}

// Delegator: Cafe, Delegate: barista
class Cafe(barista: Barista): Barista by barista

// Usage of Cafe
fun main() {
    val starbucks = Cafe(StarbucksBarista())
    starbucks.makeCoffee()

    val ediya = Cafe(EdiyaBarista())
    ediya.makeCoffee()
}
```

### ì˜ˆì œ 3

```kotlin
// ë¶€ë™ì‚°ê³¼ ê´€ë ¨ëœ ê¶Œí•œë“¤
interface Authority {
    fun stampSeal() // ë„ì¥ ì°ê¸°
    ... // ê¸°íƒ€ ë“±ë“±
}

// ë¶€ë™ì‚°ì— ëŒ€í•´ì„œ ë‚´ê°€ í–‰ì‚¬í•  ìˆ˜ ìˆëŠ” ê¶Œë¦¬ê°€ ìˆì–´!
class Customer(private val name: String) : Authority {
    // Authority ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
    override fun stampSeal() {
        println("${name} ë„ì¥ ì¾…")
    }
}

// ì €ëŠ” ì¤‘ê°œì¸ ì…ë‹ˆë‹¤. ì œê°€ ëŒ€ì‹  ì†ë‹˜ì˜ ì§‘ì„ ì•Œì•„ë´ë“œë¦´ê²Œìš”
class Broker(private val customer: Authority) : Authority by customer {
	// by í‚¤ì›Œë“œë¥¼ í†µí•´ customer íŒŒë¼ë¯¸í„°ì—ê²Œ ê¶Œí•œì„ ìœ„ì„
}

fun main() {
    //ê°œë°œìKì”¨
    val developerK = Customer("ê°œë°œìKì”¨")
    //ë¶€ë™ì‚°ì¤‘ê°œì¸Gì”¨
    val brokerG = Broker(developerK)

    bokerG.stampSeal() // ê°œë°œìKì”¨ì—ê²Œ ê¶Œí•œì„ ìœ„ì„ë°›ì•„ì„œ ë„ì¥ì°ê² ìŠµë‹ˆë‹¤ ã…ã…
}
```

```kotlin
import kotlin.reflect.KProperty

// ë„ì¥ì„ ì°ì„ ìˆ˜ ìˆëŠ” ê¶Œí•œ ì¸í„°í˜ì´ìŠ¤
interface Authority {
    fun stampSeal()
}

// Customer: ì‹¤ì œ ë„ì¥ì„ ì°ì„ ìˆ˜ ìˆëŠ” ì‚¬ëŒ
class Customer(private val name: String) : Authority {
    // Authority êµ¬í˜„
    override fun stampSeal() {
        println("${name} ë„ì¥ ì¾…")
    }

    // 'by' ë¬¸ë²•ì—ì„œ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•  ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
    // ì˜ˆ: val brokerG: Broker by Customer("K") â†’ Customer.getValue(...) í˜¸ì¶œë¨
    operator fun getValue(nothing: Nothing?, property: KProperty<*>): Broker {
        // Brokerì—ê²Œ ìê¸° ìì‹ (Customer)ì˜ ê¶Œí•œì„ ë„˜ê²¨ì„œ ìœ„ì„ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜
        return Broker(this)
    }
}

// Broker: Authority ì—­í• ì„ í•˜ì§€ë§Œ, ì‹¤ì œ êµ¬í˜„ì€ Customerì—ê²Œ ìœ„ì„
class Broker(private val customer: Authority) : Authority by customer
// â†‘ 'Authority by customer' â†’ Broker.stampSeal() í˜¸ì¶œ ì‹œ customer.stampSeal() ì‹¤í–‰ë¨

fun main() {
    // val brokerG: Broker by Customer("K")
    // 1. Customer("K").getValue(...) í˜¸ì¶œë¨
    // 2. getValueê°€ Broker(Customer("K"))ë¥¼ ë°˜í™˜ â†’ brokerG ë³€ìˆ˜ì— í• ë‹¹
    val brokerG: Broker by Customer("K")

    // brokerG.stampSeal() í˜¸ì¶œ
    // â†’ Brokerê°€ Authorityë¥¼ customer(Customer("K"))ì—ê²Œ ìœ„ì„í–ˆìœ¼ë¯€ë¡œ
    // â†’ ê²°êµ­ Customer("K").stampSeal() ì‹¤í–‰
    // ì¶œë ¥: "K ë„ì¥ ì¾…"
    brokerG.stampSeal()
}
```

### ì˜ˆì œ 5

```kotlin
import kotlin.reflect.KProperty

// ğŸ›’ ê²°ì œ ê¶Œí•œ
interface Payment {
    fun processPayment(amount: Int)
}

// ğŸ“¦ ë¬¼ë¥˜ ê¶Œí•œ
interface Logistics {
    fun deliverItem(item: String)
}

// ğŸ’³ ê²°ì œ ë‹´ë‹¹ì
class PaymentManager(private val name: String) : Payment {
    override fun processPayment(amount: Int) {
        println("$name: ê²°ì œ $amount ì› ì™„ë£Œ")
    }
}

// ğŸšš ë¬¼ë¥˜ ë‹´ë‹¹ì
class LogisticsManager(private val name: String) : Logistics {
    override fun deliverItem(item: String) {
        println("$name: $item ë°°ì†¡ ì™„ë£Œ")
    }
}

// ğŸ¬ ëŒ€í˜•ë§ˆíŠ¸ - ê²°ì œì™€ ë¬¼ë¥˜ë¥¼ ê°ê° ìœ„ì„
class Mart(payment: Payment, logistics: Logistics)
    : Payment by payment, Logistics by logistics

// ğŸ’¼ Martë¥¼ getValueë¡œ ìƒì„±í•´ì£¼ëŠ” ëŒ€í–‰ì
class MartDelegate(private val martName: String) {
    operator fun getValue(thisRef: Any?, property: KProperty<*>): Mart {
        println("MartDelegate: $martName ë§ˆíŠ¸ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤...")
        return Mart(
            PaymentManager("$martName ê²°ì œíŒ€"),
            LogisticsManager("$martName ë¬¼ë¥˜íŒ€")
        )
    }
}

fun main() {
    // MartDelegateê°€ ì‹¤ì œ Martë¥¼ ìƒì„±í•´ì¤Œ
    val emart: Mart by MartDelegate("ì´ë§ˆíŠ¸")

    println("=== ë§ˆíŠ¸ ì—…ë¬´ ì‹œì‘ ===")
    emart.processPayment(50000)   // ê²°ì œíŒ€ì—ê²Œ ìœ„ì„
    emart.deliverItem("TV")       // ë¬¼ë¥˜íŒ€ì—ê²Œ ìœ„ì„
}
```


## ì½”í‹€ë¦° ë‚´ì¥ ë¸ë¦¬ê²Œì´íŠ¸
- lazy: ì§€ì—° ì´ˆê¸°í™” ë™ì‘
- Observable: ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°
- Vetoable: íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•  ê²½ìš°ë§Œ, ê°’ì´ ë³€ê²½